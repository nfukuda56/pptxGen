# テキスト→PPTX生成Webサイト 要求定義書

## 1. 目的
本システムは、ユーザーが記述したプレーンテキストから **PowerPoint（.pptx）ファイルを自動生成** するWebサイトである。

生成されるPPTXは **レイアウトや装飾を後工程で人が修正することを前提** とし、本システムでは以下に限定した機能を提供する。

- スライド分割
- 見出しテキストボックス配置
- 本文テキストボックス配置（単数／複数）

---

## 2. 想定利用環境

- ホスティング：GitHub Pages（静的サイト）
- 処理方式：ブラウザ内JavaScriptのみで完結
- 出力形式：.pptx
- 主な用途：
  - 構成案・下書きPPTの自動生成
  - テキスト構造を視覚化するための補助ツール

---

## 3. 入力テキスト記法仕様

### 3.1 基本方針

- 入力はプレーンテキストとする
- 記法は **行単位で解釈** される
- 構文記号以外の改行は、すべて **空白1文字に置換して連結** される
- 空行は無視され、意味を持たない

---

### 3.2 記法一覧

#### ① 見出し指定

```
#これは見出しです
```

- 行頭の `#` は見出しを表す
- `#` は必ず行頭に記述する
- 1スライドにつき見出しは1つを基本とする

---

#### ② 本文テキストボックス開始

```
--
```

- `--` は **新しい本文用テキストボックスの開始** を示す
- 行全体が `--` と完全一致する場合のみ有効とする
- 以降の文章は、次の構文記号が現れるまで同一テキストボックスに格納される

---

#### ③ 複数テキストボックス一括指定（横配置）

```
--[aaa,bbb,ccc]
```

- `--[` から `]` までを1行で記述する
- `,` 区切りで指定された各要素を、それぞれ **独立した本文テキストボックス** として **横方向に配置** する
- 各テキストボックスは等幅で横に並べられる
- `,` の前後の空白はトリムされる
- 空要素（`,,`）は許可しない

---

#### ④ 改ページ（新スライド）

```
---
```

- `---` は **新しいスライドの開始** を示す
- 行全体が `---` と完全一致する場合のみ有効とする
- 改ページ時、直前のテキストボックスは確定される

---

## 4. レイアウト仕様（初期生成時）

### 4.1 共通方針

- `--` で開始したテキストボックスは **縦方向に積み上げて配置** する
- `--[...]` で指定したテキストボックスは **横方向に並べて配置** する
- 横配置で指定個数を超えた場合は **下に折り返して配置** する
- 自動生成時は最低限のレイアウトのみ行い、細かな調整はPowerPoint側で行う

---

### 4.2 スライドサイズ

| 項目 | 設定値 |
|---|---|
| 幅 | 25.4cm（10インチ） |
| 高さ | 14.288cm（5.625インチ） |
| 形式 | 画面に合わせる |

---

### 4.3 デフォルトフォント設定

| 区分 | 設定値 | 単位 |
|---|---|---|
| フォント | BIZ UDゴシック | - |
| 見出しフォントサイズ | 36 | pt |
| 本文フォントサイズ | 24 | pt |

※ サイト上のUIから、フォントおよびフォントサイズは変更可能とする

---

### 4.4 マージン・配置ルール

| 要素 | 設定値 | 単位 |
|---|---|---|
| 左マージン（開始位置X） | 12 | pt |
| 上マージン（開始位置Y） | 12 | pt |
| 見出し下マージン | 20 | pt |
| 本文テキストボックス間（縦方向） | 10 | pt |
| 本文テキストボックス間（横方向） | 10 | pt |
| 横配置個数/行 | 5 | 個 |

- 見出しの下に最初の本文テキストボックスを配置する
- `--` による本文テキストボックスは、上から順に縦方向マージンで配置する
- `--[...]` による本文テキストボックスは、左から順に横方向マージンで配置する
- 横配置個数/行を超えた場合は、下の行に折り返して配置する

※ サイト上のUIから、各マージン値は変更可能とする

---

## 5. サイトUI要件

### 5.1 入力方法

- テキストファイルのアップロード
- またはテキストエリアへの直接貼り付け

---

### 5.2 設定項目（ユーザー指定可）

- フォント選択（複数候補）
- 見出しフォントサイズ
- 本文フォントサイズ
- 見出し下マージン
- 縦方向マージン
- 横方向マージン
- 左マージン（開始位置X）
- 上マージン（開始位置Y）
- 横配置個数/行

※ 未指定時はデフォルト値を使用

---

## 6. 出力仕様

- ファイル形式：.pptx
- ファイル名：任意（デフォルト名を用意）
- 生成処理はクライアント（ブラウザ）内で完結

---

## 7. 非対応事項（スコープ外）

- 複雑なレイアウト（表、図形、SmartArt等）
- スライドマスターの編集
- 色・背景・装飾の詳細指定
- サーバー側でのファイル保存

---

## 8. 備考

本仕様は「構造化されたテキストを、修正しやすいPPT骨子に変換する」ことを主眼としている。
過度な自動整形は行わず、人の編集自由度を優先する。

